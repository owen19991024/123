<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q1è‡ªåª’é«”é™ªè·‘ç­ - å­¸å“¡ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .blue-gradient { background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%); }
        .card-shadow { box-shadow: 0 10px 30px -5px rgba(59, 130, 246, 0.1); }
        table { border-collapse: separate; border-spacing: 0; }
        th, td { border: 1px solid #e2e8f0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, doc, onSnapshot, addDoc, deleteDoc, serverTimestamp, query, orderBy } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'class-portal-v4-blue';

        // å°è£æˆå…¨å±€ç‰©ä»¶ä¾› React ä½¿ç”¨ï¼Œç¢ºä¿è·¯å¾‘æ­£ç¢º
        window.firebaseEnv = {
            auth, db, appId,
            signInAnonymously, onAuthStateChanged, signInWithCustomToken,
            collection, onSnapshot, addDoc, deleteDoc, doc, serverTimestamp,
            query, orderBy
        };
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const STUDENT_LIST = { "æ—©ç­": ["æ¾„è²", "è³´æ†²", "ç®ç¶¾", "è‹¥è•", "æ€¡æ–‡", "é›…å©·", "é–å´´", "Emily", "Lu", "æ±Ÿæ±Ÿ", "Gina"], "æ™šç­": ["é˜¿æ–‡", "é˜¿å»¼", "è‹±æ„‰", "è¬æ…ˆ", "ä½©éŒ¡", "è¾°èŠ®", "åŠ‰æ˜Š", "ç§æ¡€", "æ¶µå‚‘", "99", "è‹¥è‹¥", "å‡±é™", "çŸæ·¯", "éœéœ"] };
        const SEMESTER_WEEKS = ["1/4", "1/11", "1/18", "1/25", "2/1", "2/8", "2/15", "2/22", "3/1", "3/8", "3/15", "3/22"].map(d => ({ date: d }));
       
        const Icon = ({ name, size = 20, className = "" }) => {
            useEffect(() => { if (window.lucide) lucide.createIcons(); }, [name, size]);
            return <i data-lucide={name} style={{ width: size, height: size }} className={className}></i>;
        };

        function App() {
            const [user, setUser] = useState(null);
            const [identity, setIdentity] = useState(JSON.parse(localStorage.getItem('portal_identity')));
            const [tempClass, setTempClass] = useState("");
            const [tempName, setTempName] = useState("");
            const [currentView, setCurrentView] = useState('upload');
            const [selectedPeerDate, setSelectedPeerDate] = useState("1/4");
            const [assignments, setAssignments] = useState([]);
            const [comments, setComments] = useState([]);

            useEffect(() => {
                const env = window.firebaseEnv;
                if (!env) return;

                const initAuth = async () => {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await env.signInWithCustomToken(env.auth, __initial_auth_token);
                    } else {
                        await env.signInAnonymously(env.auth);
                    }
                };
                initAuth();

                const unsubscribe = env.onAuthStateChanged(env.auth, (u) => {
                    setUser(u);
                });
                return () => unsubscribe();
            }, []);

            useEffect(() => {
                const env = window.firebaseEnv;
                if (!user || !env) return;

                // ç›£è½ä½œæ¥­ (è·¯å¾‘ï¼šartifacts/appId/public/data/assignments)
                const unsubAssignments = env.onSnapshot(
                    env.collection(env.db, 'artifacts', env.appId, 'public', 'data', 'assignments'),
                    (s) => setAssignments(s.docs.map(d => ({id:d.id, ...d.data()}))),
                    (err) => console.error(err)
                );

                // ç›£è½ç•™è¨€ (è·¯å¾‘ï¼šartifacts/appId/public/data/comments)
                const unsubComments = env.onSnapshot(
                    env.collection(env.db, 'artifacts', env.appId, 'public', 'data', 'comments'),
                    (s) => {
                        const data = s.docs.map(d => ({id:d.id, ...d.data()}));
                        // æ’åºï¼šèˆŠåˆ°æ–°
                        data.sort((a, b) => (a.createdAt?.seconds || 0) - (b.createdAt?.seconds || 0));
                        setComments(data);
                    },
                    (err) => console.error(err)
                );

                return () => { unsubAssignments(); unsubComments(); };
            }, [user]);

            const getHWStatus = (weekDate, createdAt) => {
                if (!createdAt) return "æœªå®Œæˆ";
                const [m, d] = weekDate.split('/').map(Number);
                const deadline = new Date(new Date().getFullYear(), m - 1, d, 20, 0, 0);
                return (createdAt.toDate ? createdAt.toDate() : new Date()) > deadline ? "é²åˆ°" : "æº–æ™‚";
            };

            const getFBStats = (weekDate, userName, userClass) => {
                const targets = assignments.filter(a => a.weekDate === weekDate && a.studentClass === userClass && a.studentName !== userName && getHWStatus(a.weekDate, a.createdAt) === "æº–æ™‚");
                const done = targets.filter(a => comments.some(c => c.assignmentId === a.id && c.author === userName));
                const percentage = targets.length === 0 ? 100 : Math.round((done.length / targets.length) * 100);
                let status = "æœªå®Œæˆ";
                if (targets.length === 0 || done.length >= targets.length) status = "æº–æ™‚";
                else if (done.length > 0) status = "é²åˆ°";
                return { numerator: done.length, denominator: targets.length, percentage, status };
            };

            const handleLogin = () => {
                if (!tempClass || !tempName) return;
                const d = { name: tempName, class: tempClass };
                setIdentity(d);
                localStorage.setItem('portal_identity', JSON.stringify(d));
            };

            const deleteAssignment = async (id) => {
                if(!confirm("ç¢ºå®šè¦åˆªé™¤é€™ä»½ä½œæ¥­å—ï¼Ÿ")) return;
                const env = window.firebaseEnv;
                try {
                    await env.deleteDoc(env.doc(env.db, 'artifacts', env.appId, 'public', 'data', 'assignments', id));
                } catch (e) { console.error("åˆªé™¤å¤±æ•—", e); }
            };

            const deleteComment = async (id) => {
                if(!confirm("ç¢ºå®šè¦åˆªé™¤é€™æ¢ç•™è¨€å—ï¼Ÿ")) return;
                const env = window.firebaseEnv;
                try {
                    await env.deleteDoc(env.doc(env.db, 'artifacts', env.appId, 'public', 'data', 'comments', id));
                } catch (e) { console.error("åˆªé™¤å¤±æ•—", e); }
            };

            if (!identity) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4 bg-slate-50">
                        <div className="bg-white p-10 rounded-[40px] shadow-2xl w-full max-w-md border-t-8 border-indigo-500 text-center font-black">
                            <h1 className="text-3xl text-slate-800 mb-6 italic underline decoration-indigo-200">Q1 Classroom âœ¨</h1>
                            <div className="flex gap-2 mb-6">
                                {["æ—©ç­", "æ™šç­"].map(c => (
                                    <button key={c} onClick={() => { setTempClass(c); setTempName(""); }} className={`flex-1 p-3 border-2 rounded-2xl transition ${tempClass === c ? 'border-indigo-500 bg-indigo-500 text-white shadow-md' : 'border-slate-100 text-slate-400 hover:bg-indigo-50'}`}>{c}</button>
                                ))}
                            </div>
                            <select value={tempName} onChange={(e) => setTempName(e.target.value)} className="w-full p-4 border-2 border-slate-100 rounded-2xl mb-8 outline-none bg-slate-50 text-slate-700" disabled={!tempClass}>
                                <option value="">ä½ æ˜¯å“ªä½åŒå­¸ï¼Ÿ</option>
                                {tempClass && STUDENT_LIST[tempClass].map(n => <option key={n} value={n}>{n}</option>)}
                            </select>
                            <button onClick={handleLogin} className="w-full blue-gradient text-white p-4 rounded-2xl shadow-lg hover:brightness-110 transition disabled:opacity-50" disabled={!tempName}>é–‹å§‹é™ªè·‘</button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen flex flex-col lg:flex-row">
                    <nav className="w-full lg:w-72 bg-white p-8 flex flex-col border-r border-slate-200 shrink-0 font-black">
                        <div className="blue-gradient p-5 rounded-[30px] text-white shadow-lg mb-10 flex items-center gap-4">
                            <div className="bg-white/20 p-2 rounded-xl"><Icon name="user" /></div>
                            <div className="overflow-hidden">
                                <div className="text-lg truncate">{identity.name}</div>
                                <div className="text-[10px] opacity-80 uppercase tracking-widest">{identity.class}</div>
                            </div>
                        </div>
                        <div className="space-y-2 flex-1">
                            {['upload', 'peer', 'personal', 'overview'].map(v => (
                                <button key={v} onClick={()=>setCurrentView(v)} className={`w-full flex items-center gap-4 p-4 rounded-2xl transition ${currentView===v?'bg-indigo-50 text-indigo-600 shadow-sm':'text-slate-400 hover:text-indigo-400'}`}>
                                    <Icon name={v==='upload'?'file-up':v==='peer'?'users-round':v==='personal'?'heart':'layout-dashboard'} />
                                    {v==='upload'?'ä½œæ¥­ä¸Šå‚³':v==='peer'?'åŒå„•äº’è©•':v==='personal'?'æˆ‘çš„å›é¥‹':'ç¸½è¦½'}
                                </button>
                            ))}
                            <div className="my-6 border-t border-slate-100"></div>
                            <button onClick={()=>{localStorage.clear(); window.location.reload();}} className="w-full flex items-center gap-4 p-4 text-slate-300 hover:text-indigo-500 transition"><Icon name="power" />ç™»å‡ºç³»çµ±</button>
                        </div>
                    </nav>

                    <main className="flex-1 p-6 lg:p-12 overflow-y-auto">
                        {currentView === 'overview' && (
                            <div className="max-w-6xl mx-auto space-y-8 font-black">
                                <h1 className="text-3xl text-slate-800 italic underline decoration-indigo-200">Class Progress ğŸ“Š</h1>
                                <div className="bg-white rounded-[40px] card-shadow border border-slate-100 overflow-hidden">
                                    <div className="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                                        <span className="text-slate-800 text-sm">å…¨ç­é€²åº¦ä¸€è¦½ (ä½œæ¥­/è©•åƒ¹)</span>
                                        <div className="flex gap-4 text-[10px] uppercase">
                                            <span className="text-emerald-500">â— æº–æ™‚</span> <span className="text-amber-500">â— é²åˆ°</span> <span className="text-rose-500">â— æœªå®Œæˆ</span>
                                        </div>
                                    </div>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-left">
                                            <thead>
                                                <tr className="bg-slate-50 text-[10px] text-slate-400">
                                                    <th className="p-4 sticky left-0 bg-white border-r">å­¸å“¡å§“å</th>
                                                    {SEMESTER_WEEKS.map(w => <th key={w.date} className="p-4 text-center">{w.date}</th>)}
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {STUDENT_LIST[identity.class].map(name => (
                                                    <tr key={name} className="hover:bg-slate-50 transition border-b border-slate-100">
                                                        <td className="p-4 text-sm text-slate-600 sticky left-0 bg-white border-r">{name}</td>
                                                        {SEMESTER_WEEKS.map(w => {
                                                            const hw = assignments.find(a => a.studentName === name && a.weekDate === w.date);
                                                            const hwStatus = hw ? getHWStatus(w.date, hw.createdAt) : "æœªå®Œæˆ";
                                                            const fb = getFBStats(w.date, name, identity.class);
                                                            return (
                                                                <td key={w.date} className="p-2 min-w-[90px]">
                                                                    <div className="flex flex-col gap-1 text-[8px] text-center">
                                                                        <div className={`rounded py-0.5 ${hwStatus==='æº–æ™‚'?'bg-emerald-100 text-emerald-600':hwStatus==='é²åˆ°'?'bg-amber-100 text-amber-600':'bg-rose-100 text-rose-600'}`}>HW: {hwStatus}</div>
                                                                        <div className={`rounded py-0.5 ${fb.status==='æº–æ™‚'?'bg-emerald-50 text-indigo-400':fb.status==='é²åˆ°'?'bg-amber-100 text-amber-600':'bg-slate-100 text-slate-300'}`}>FB: {fb.numerator}/{fb.denominator}</div>
                                                                    </div>
                                                                </td>
                                                            );
                                                        })}
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        )}

                        {currentView === 'upload' && (
                            <div className="max-w-4xl mx-auto space-y-6 font-black">
                                <h2 className="text-xl text-slate-800 border-b-2 border-indigo-500 inline-block italic">Weekly Submission</h2>
                                {SEMESTER_WEEKS.map((w, i) => (
                                    <div key={i} className="bg-white p-8 rounded-[40px] card-shadow flex flex-col md:flex-row gap-6 items-center border border-slate-50 hover:border-indigo-100 transition">
                                        <div className="w-14 h-14 blue-gradient rounded-2xl flex items-center justify-center text-white shrink-0 shadow-md italic">W{i+1}</div>
                                        <div className="flex-1 w-full space-y-4">
                                            <div className="text-[10px] text-slate-300 tracking-widest uppercase italic">ç¹³äº¤æœŸé™: {w.date} 20:00</div>
                                            {assignments.filter(a => a.weekDate === w.date && a.studentName === identity.name).map(a => {
                                                const status = getHWStatus(w.date, a.createdAt);
                                                return (
                                                    <div key={a.id} className="bg-slate-50 p-4 rounded-2xl flex justify-between items-center border border-slate-100">
                                                        <div className="flex items-center gap-3 overflow-hidden">
                                                            <a href={a.url} target="_blank" className="text-sm text-indigo-600 underline truncate">{a.url}</a>
                                                            <span className={`text-[9px] px-2 py-0.5 rounded-md ${status==='æº–æ™‚'?'bg-emerald-100 text-emerald-600':'bg-amber-100 text-amber-600'}`}>ç‹€æ…‹ï¼š{status}</span>
                                                        </div>
                                                        <button onClick={()=>deleteAssignment(a.id)} className="text-rose-500 text-xs px-3 hover:underline">åˆªé™¤</button>
                                                    </div>
                                                );
                                            })}
                                            <div className="flex gap-2">
                                                <input id={`in-${w.date}`} className="flex-1 bg-slate-50 border-b-2 border-slate-100 outline-none p-3 text-sm focus:border-indigo-500 transition" placeholder="è¼¸å…¥ä½œå“é€£çµ..." />
                                                <button onClick={async () => {
                                                    const el = document.getElementById(`in-${w.date}`);
                                                    if(!el.value) return;
                                                    await window.firebaseEnv.addDoc(window.firebaseEnv.collection(window.firebaseEnv.db, 'artifacts', window.firebaseEnv.appId, 'public', 'data', 'assignments'), { studentName: identity.name, studentClass: identity.class, weekDate: w.date, url: el.value, createdAt: window.firebaseEnv.serverTimestamp() });
                                                    el.value = '';
                                                }} className="blue-gradient text-white px-6 py-3 rounded-2xl shadow-md hover:brightness-110 active:scale-95 transition shrink-0 text-sm">æäº¤ä½œæ¥­</button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {currentView === 'peer' && (
                            <div className="max-w-6xl mx-auto space-y-6 font-black">
                                <div className="bg-indigo-50 text-indigo-700 p-6 rounded-[30px] shadow-sm border-l-8 border-indigo-400 flex items-center justify-between">
                                    <div className="space-y-1">
                                        <h4 className="text-sm italic flex items-center gap-2"><Icon name="lightbulb" size={14} className="text-amber-500" /> ğŸ’¡ äº’è©•è¦å‰‡</h4>
                                        <p className="text-[10px] opacity-80">è©•åƒ¹é€±æœŸï¼šæ—©ç­ 5:00 å‰ã€æ™šç­ 21:30 å‰å®Œæˆï¼Œå…©é€±çµç®—ã€‚åƒ…è¨ˆé€±æ—¥ 20:00 å‰æº–æ™‚æäº¤ä½œæ¥­è€…ã€‚</p>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-[10px] opacity-50 uppercase tracking-widest">ç•¶é€±å¾…è©•é€²åº¦</div>
                                        <div className="text-xl italic">{getFBStats(selectedPeerDate, identity.name, identity.class).numerator} / {getFBStats(selectedPeerDate, identity.name, identity.class).denominator}</div>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3">
                                    <select value={selectedPeerDate} onChange={(e)=>setSelectedPeerDate(e.target.value)} className="bg-white text-slate-700 p-3 px-5 rounded-2xl outline-none shadow-sm cursor-pointer border border-slate-100 hover:border-indigo-300 transition">
                                        {SEMESTER_WEEKS.map(w => <option key={w.date} value={w.date}>ç¬¬ {w.date} é€±ä½œæ¥­</option>)}
                                    </select>
                                </div>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {assignments.filter(a => a.weekDate === selectedPeerDate && a.studentClass === identity.class).map(a => {
                                        const isSelf = a.studentName === identity.name;
                                        const isTimely = getHWStatus(a.weekDate, a.createdAt) === "æº–æ™‚";
                                        const hasDone = comments.some(c => c.assignmentId === a.id && c.author === identity.name);
                                        return (
                                            <div key={a.id} className={`bg-white rounded-[40px] p-6 card-shadow flex flex-col h-[420px] border-2 transition ${isSelf ? 'border-indigo-500' : 'border-transparent'}`}>
                                                <div className="flex justify-between items-start mb-6 shrink-0">
                                                    <div>
                                                        <div className="text-slate-800 text-lg">{a.studentName}</div>
                                                        <div className="flex gap-1 mt-1 text-[8px]">
                                                            {isTimely ? (!hasDone && !isSelf && <span className="text-indigo-500 animate-pulse">â— å¾…è©•ä¸­</span>) : <span className="text-slate-300">â— é²åˆ°å…è©•</span>}
                                                            {isSelf && <span className="text-indigo-400 underline italic">é€™æ˜¯æˆ‘çš„ä½œæ¥­</span>}
                                                        </div>
                                                    </div>
                                                    <a href={a.url} target="_blank" className="px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl text-xs hover:bg-indigo-600 hover:text-white transition shadow-sm flex items-center gap-1">è§€çœ‹ <Icon name="external-link" size={12} /></a>
                                                </div>
                                                <div className="flex-1 overflow-y-auto space-y-3 mb-4 scrollbar-hide">
                                                    {comments.filter(c => c.assignmentId === a.id).map((c, idx) => {
                                                        const isSelfCmt = c.author === identity.name;
                                                        const isWorkOwner = c.author === a.studentName;
                                                        return (
                                                            <div key={c.id} className={`p-3 rounded-2xl text-[10px] bg-slate-50 border border-slate-100 group relative`}>
                                                                <div className="flex justify-between items-center mb-1">
                                                                    <span className="text-indigo-500">
                                                                        {c.author} {isWorkOwner && "(å‰µä½œç†å¿µ)"}
                                                                    </span>
                                                                    {isSelfCmt && (
                                                                        <button onClick={()=>deleteComment(c.id)} className="text-rose-400 opacity-0 group-hover:opacity-100 transition">åˆªé™¤</button>
                                                                    )}
                                                                </div>
                                                                <div className="text-slate-600 leading-relaxed">{c.text}</div>
                                                            </div>
                                                        );
                                                    })}
                                                </div>
                                                <div className="flex gap-2 p-1 bg-slate-50 rounded-2xl border border-slate-100 focus-within:bg-white transition-all">
                                                    <input id={`cm-${a.id}`} className="flex-1 bg-transparent p-2 text-[10px] outline-none" placeholder={isSelf ? "è£œå……å‰µä½œç†å¿µ..." : "çµ¦äºˆé¼“å‹µæˆ–å»ºè­°..."} />
                                                    <button onClick={async () => {
                                                        const el = document.getElementById(`cm-${a.id}`);
                                                        if(!el.value) return;
                                                        await window.firebaseEnv.addDoc(window.firebaseEnv.collection(window.firebaseEnv.db, 'artifacts', window.firebaseEnv.appId, 'public', 'data', 'comments'), { assignmentId: a.id, author: identity.name, text: el.value, createdAt: window.firebaseEnv.serverTimestamp() });
                                                        el.value = '';
                                                    }} className="bg-slate-800 text-white p-2 px-3 rounded-xl shadow-md shrink-0 hover:brightness-110 active:scale-95 transition"><Icon name="send" size={12} /></button>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        )}

                        {currentView === 'personal' && (
                            <div className="max-w-4xl mx-auto space-y-6 font-black">
                                <h2 className="text-xl text-slate-800 border-b-2 border-indigo-500 inline-block italic">æˆ‘æ”¶åˆ°çš„å›é¥‹</h2>
                                {assignments.filter(a => a.studentName === identity.name)
                                    .sort((a,b) => (a.createdAt?.seconds || 0) - (b.createdAt?.seconds || 0)) // èˆŠåˆ°æ–°ï¼šä¸Šåˆ°ä¸‹æ—¥æœŸè¶Šä¾†è¶Šæ–°
                                    .map(a => (
                                    <div key={a.id} className="bg-white rounded-[40px] p-8 card-shadow border border-slate-100 space-y-6">
                                        <div className="flex justify-between items-center pb-4 border-b border-slate-50">
                                            <div>
                                                <span className="text-indigo-600 italic mr-3">Week {a.weekDate}</span>
                                                <span className="text-[10px] text-slate-300 italic truncate max-w-[200px] inline-block align-middle">{a.url}</span>
                                            </div>
                                            <a href={a.url} target="_blank" className="text-xs px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl hover:bg-indigo-600 hover:text-white transition">è§€çœ‹ä½œå“é€£çµ</a>
                                        </div>
                                        <div className="space-y-4">
                                            {comments.filter(c => c.assignmentId === a.id && c.author !== identity.name).map((c, idx) => (
                                                <div key={c.id} className="flex gap-4 items-start">
                                                    <div className="w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center shrink-0 text-indigo-600 text-xs">{c.author[0]}</div>
                                                    <div className="bg-slate-50 p-4 rounded-[24px] flex-1">
                                                        <div className="text-[9px] text-indigo-400 mb-1">{c.author}</div>
                                                        <div className="text-sm text-slate-600 leading-relaxed">{c.text}</div>
                                                    </div>
                                                </div>
                                            ))}
                                            {comments.filter(c => c.assignmentId === a.id && c.author !== identity.name).length === 0 && <div className="text-center py-6 text-slate-200 text-xs italic font-black">åŒå­¸æ­£åœ¨å¿«é¦¬åŠ é­è©•è«–ä¸­... âœ¨</div>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>
                </div>
            );
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
